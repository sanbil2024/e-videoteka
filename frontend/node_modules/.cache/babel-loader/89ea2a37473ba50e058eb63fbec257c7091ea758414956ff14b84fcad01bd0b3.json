{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sandro\\\\Desktop\\\\Skriptni\\\\e-videoteka2\\\\frontend\\\\src\\\\components\\\\ReviewForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Rating } from '@mui/material';\nimport StarIcon from '@mui/icons-material/Star';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReviewForm = ({\n  movieId,\n  user,\n  onReviewAdded\n}) => {\n  _s();\n  const [rating, setRating] = useState(5);\n  const [comment, setComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user) {\n      setError('Morate biti prijavljeni da biste ostavili recenziju.');\n      return;\n    }\n    setSubmitting(true);\n    setError(null);\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${user.token}`\n        }\n      };\n      await axios.post(`http://localhost:5000/api/reviews/${movieId}/reviews`, {\n        rating,\n        comment\n      }, config);\n\n      // Clear form and notify parent component\n      setRating(5);\n      setComment('');\n      setSubmitting(false);\n      if (onReviewAdded) {\n        onReviewAdded();\n      }\n    } catch (error) {\n      setError(error.response && error.response.data.message ? error.response.data.message : 'Došlo je do greške prilikom slanja recenzije.');\n      setSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"review-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Napi\\u0161ite recenziju\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#f50057',\n        marginBottom: '15px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"rating\",\n          children: \"Ocjena\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Rating, {\n            name: \"rating\",\n            value: rating,\n            precision: 1,\n            onChange: (event, newValue) => {\n              setRating(newValue);\n            },\n            emptyIcon: /*#__PURE__*/_jsxDEV(StarIcon, {\n              style: {\n                opacity: 0.55\n              },\n              fontSize: \"inherit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"comment\",\n          children: \"Komentar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"comment\",\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          required: true,\n          rows: 4,\n          style: {\n            width: '100%',\n            padding: '8px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"form-submit\",\n        disabled: submitting,\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#4CAF50',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: submitting ? 'not-allowed' : 'pointer',\n          opacity: submitting ? 0.7 : 1\n        },\n        children: submitting ? 'Slanje...' : 'Pošalji recenziju'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(ReviewForm, \"Z0V1az6N8aMNG20euhjg1lct3V4=\");\n_c = ReviewForm;\nexport default ReviewForm;\nvar _c;\n$RefreshReg$(_c, \"ReviewForm\");","map":{"version":3,"names":["React","useState","axios","Rating","StarIcon","jsxDEV","_jsxDEV","ReviewForm","movieId","user","onReviewAdded","_s","rating","setRating","comment","setComment","submitting","setSubmitting","error","setError","handleSubmit","e","preventDefault","config","headers","Authorization","token","post","response","data","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","marginBottom","onSubmit","htmlFor","name","value","precision","onChange","event","newValue","emptyIcon","opacity","fontSize","id","target","required","rows","width","padding","type","disabled","backgroundColor","border","borderRadius","cursor","_c","$RefreshReg$"],"sources":["C:/Users/Sandro/Desktop/Skriptni/e-videoteka2/frontend/src/components/ReviewForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Rating } from '@mui/material';\nimport StarIcon from '@mui/icons-material/Star';\n\nconst ReviewForm = ({ movieId, user, onReviewAdded }) => {\n  const [rating, setRating] = useState(5);\n  const [comment, setComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!user) {\n      setError('Morate biti prijavljeni da biste ostavili recenziju.');\n      return;\n    }\n    \n    setSubmitting(true);\n    setError(null);\n    \n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${user.token}`,\n        },\n      };\n\n      await axios.post(\n        `http://localhost:5000/api/reviews/${movieId}/reviews`,\n        { rating, comment },\n        config\n      );\n\n      // Clear form and notify parent component\n      setRating(5);\n      setComment('');\n      setSubmitting(false);\n      \n      if (onReviewAdded) {\n        onReviewAdded();\n      }\n    } catch (error) {\n      setError(\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : 'Došlo je do greške prilikom slanja recenzije.'\n      );\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"review-form\">\n      <h3>Napišite recenziju</h3>\n      \n      {error && <div style={{ color: '#f50057', marginBottom: '15px' }}>{error}</div>}\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"rating\">Ocjena</label>\n          <div>\n            <Rating\n              name=\"rating\"\n              value={rating}\n              precision={1}\n              onChange={(event, newValue) => {\n                setRating(newValue);\n              }}\n              emptyIcon={<StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\n            />\n          </div>\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"comment\">Komentar</label>\n          <textarea \n            id=\"comment\" \n            value={comment} \n            onChange={(e) => setComment(e.target.value)}\n            required\n            rows={4}\n            style={{ width: '100%', padding: '8px' }}\n          ></textarea>\n        </div>\n        \n        <button \n          type=\"submit\" \n          className=\"form-submit\"\n          disabled={submitting}\n          style={{ \n            padding: '10px 20px',\n            backgroundColor: '#4CAF50',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: submitting ? 'not-allowed' : 'pointer',\n            opacity: submitting ? 0.7 : 1\n          }}\n        >\n          {submitting ? 'Slanje...' : 'Pošalji recenziju'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ReviewForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}